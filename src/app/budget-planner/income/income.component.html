<div class="topnavbar py-4">
    <div class="fluid-container">
        <h2 class="text-center text-uppercase text-white">income</h2>
    </div>

</div>
<div class="container-wrap">
    <div class="container">
        <h2 class="formsecton-title mb-4">Income</h2>
        <form [formGroup]="incomeForm" (ngSubmit)="onSubmit()" class="input-form">
            <div class="form-group">
                <select formControlName="month" name="" id="month" class="form-control form-select" (change)="onChange($event)">
                    <option value="" disabled>Select Month</option>
                    <option value="January">January</option>
                    <option value="February">February</option>
                    <option value="March">March</option>
                    <option value="April">April</option>
                </select>
            </div>
            <div class="form-group">
                
            </div>
            <div class="total-income">
                Total Income for {{selectedMonth}}: ${{calculateTotalIncome(selectedMonth)}}
            </div>
            <div class="form-group">
                <label for="investment">Investment:</label>
                <select class="form-select form-control" formControlName="investment" id="investment" [class.disabled-dropdown]="!monthSelected">
                    <option value="" disabled>Select Investements</option>
                    <option value="401(k)">401(k)</option>
                    <option value="Stocks">Stocks</option>
                    <option value="Real Estate">Real Estate</option>
                  </select>
            </div>
            <div class="form-group">
                <label for="source">Source of Income:</label>
                <select class="form-select form-control" formControlName="source" id="source" [class.disabled-dropdown]="!monthSelected">
                    <option value="" disabled>Select Source</option>
                    <option value="Salary">Salary</option>
                    <option value="Freelancing">Freelancing</option>
                    <option value="Rental Income">Rental Income</option>
                  </select>
            </div>
            <div class="form-group">
                <label for="amount">Amount:</label>
                <input type="number" formControlName="amount" id="amount" class="form-control" placeholder="Enter Amount" [class.disabled-dropdown]="!monthSelected">
            </div>
            <div class="text-right">
                <button type="submit" class="btn btn-primary" (click)="onSubmit()" [class.disabled-dropdown]="!monthSelected">Add</button>
            </div>
        </form>
    
        <hr>
        <div class="table-wrap pt-5">

            <h3>Income List : {{ selectedMonth}}</h3>
        
            <table class="table table-responsive">
                <thead>
                    <tr>
                        <th>Source of Income</th>
                        <th>Amount</th>
                        <th>Investment</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let income of getFilteredIncomes()">
                        <td>{{ income.source }}</td>
                        <td>{{ income.amount }}</td>
                        <td>{{ income.investment }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    
        <div class="input-form">
            <button class="btn btn-primary" (click)="onBack()">Back</button>
            <button class="btn btn-primary" (click)="saveForm()">Save</button>
        </div>
    </div>
</div>
